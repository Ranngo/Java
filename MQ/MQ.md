# 一、MQ(Message Queue 消息队列)的优缺点

## 1. 优点

### 1.1 解耦

订单系统和后台耦合度过高，MQ作为中间件进行解耦，实现了异步调用，防止一个子系统出现问题，导致整个系统瘫痪。

### 1.2 削峰

当面临访问高峰时，MQ类似于缓冲池对客户端请求进行缓冲，缓解后台系统的压力。

### 1.3 数据分发

数据进入MQ中，通过MQ进行数据的分发，降低主系统的压力。、



## 2. 缺点

### 2.1 系统可用性降低

需要保证MQ的高可用性，否则如果MQ宕机，将会带来很大影响。

### 2.2 系统复杂度提高

同步调用->异步调用，如何避免消息被重复调用，以及数据丢失问题等

### 2.3 一致性问题



# 二、各种常见消息队列优缺点对比：

| 特性              | ActiveMQ       | RabbitMQ   | Kafka            | RocketMQ       |
| ----------------- | -------------- | ---------- | ---------------- | -------------- |
| PRODUCER-COMSUMER | 支持           | 支持       | 支持             | 支持           |
| PUBLISH-SUBSCRIBE | 支持           | 支持       | 支持             | 支持           |
| REQUEST-REPLY     | 支持           | 支持       | -                | 支持           |
| API完备性         | 高             | 高         | 高               | 低（静态配置） |
| 多语言支持        | 支持，JAVA优先 | 语言无关   | 支持，JAVA优先   | 支持           |
| 单机呑吐量        | 万级           | 万级       | 十万级           | 单机万级       |
| 消息延迟          | -              | 微秒级     | 毫秒级           | -              |
| 可用性            | 高（主从）     | 高（主从） | 非常高（分布式） | 高             |
| 消息丢失          | -              | 低         | 理论上不会丢失   | -              |
| 消息重复          | -              | 可控制     | 理论上会有重复   | -              |
| 文档的完备性      | 高             | 高         | 高               | 中             |
| 提供快速入门      | 有             | 有         | 有               | 无             |
| 首次部署难度      | -              | 低         | 中               | 高             |

 

# 三、Kafka

参考博客：https://blog.csdn.net/duysh/article/details/116355977
